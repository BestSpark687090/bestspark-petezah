---
import AppLayout from '../layouts/AppLayout.astro';
const title = 'Auth Callback';
const description = 'Authentication callback page';
---

<AppLayout title={title} description={description}>
  <main class="auth-callback">
    <h1>Signing you inâ€¦</h1>
    <p>If you are not redirected automatically, click below.</p>
    <a id="continue-link" href="/">Continue</a>
    <script type="module">
      // Minimal logic: read hash/query then post to /api/set-session or similar
      (function(){
        try{
          const params = new URL(window.location.href).searchParams;
          // existing logic is in public/auth-callback.html; preserve flow by delegating if present
        }catch(e){console.error(e)}
      })();
    </script>
  </main>
</AppLayout>
---
import { redirect } from 'astro:redirect';
export function get() {
  return redirect('/auth-callback.html', 302);
}
---
